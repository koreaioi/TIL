# Web과 서버의 통신 과정에서 session의 역할

1. web이 서버에 최초 URL 요청 보냄
2. 서버는 목록(세션)에 들어가서 카드를 만든다.
3. 만든 카드를 html 응답의 header에 담아서 web에 보내준다.
4. 웹 브라우저 내부에 겟인데어 카드를 저장한다. (자동으로 됨)
5. 두번째 이후 요청에 카드를 포함하여 보낸다.
6. 서버는 요청에 있는 카드를 목록에 존재하는 카드인지 검증한다.

여기서 카드는 session ID 라고 생각하면된다.

### 세션이 사라지는 경우
1. Session을 서버에서 날리는 경우 (서버에서 지울 경우)
2. 사용자가 웹 브라우저를 닫는 경우
3. 시간이 지날 경우 (보통 30분)

<hr>

# 세션의 용도
보통 세션은 로그인 요청(인증)에 사용한다.   

1. 클라이언트에서 서버에 최초 요청
2. 서버는 세션이라는 저장소에 세션 ID를 만든다. (세션 ID 또한 작은 저장 공간을 지니고 있다.)
3. 서버가 응답 시 header에 세션 ID를 넣어준다.
4. 클라이언트에 세션 ID가 저장된다.
5. 클라리언트가 서버에 로그인 요청 (ssar:1234)
6. 서버는 DB에서 ID와 Password를 확인
7. DB에서 확인되면 세션 ID의 작은 저장소에 유저 정보를 저장한다.
8. 로그인 성공 시 보통 메인 페이지로 이동
9. 로그인된 상태에서 유저 정보 요청(세션 ID를 포함하고 있음)
10. 세션 저장소에서 요청에 있는 세션 ID 확인
11. 서버는 DB에서 사용자 정보를 요청해서 정보를 받는다.
12. DB로 부터 응답 받은 사용자 정보를 클라이언트에 응답한다.

# 세션의 단점
세션을 저장할 공간이 필요하다.   
서버를 로드 밸런싱하여 처리하더라도, 세션 ID가 저장되지 않은 서버로 요청이 갈 경우, 해당 서버는 최초 요청으로 인식

이런 단점을 보완하기 위해 JWT 사용  
