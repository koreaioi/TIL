# AWS 용어 설명

# 초기 AWS 세팅 및 개념 설명

처음 AWS 가입 시 **기본 VPC** 1개, **기본** (가용 영역이 각각 다른) **서브넷** 4개가 있다.

### VPC

기본 VPC
172.31.0.0/16 (서브넷 마스크 16)

8 * 4로 2^32가지 경우의 수가 있다.
여기서 서브넷 마스크 16이므로 처음 16비트는 네트워크, 나머지 16비트는 호스트 부분으로 사용한다.

따라서 172.31.0.0/16의 VPC는 65536(2^16)개의 IP주소를 가진다.
단, 사용 가능 IP주소에서 예약된 IP주소를 빼야한다.

![image](https://github.com/user-attachments/assets/cb2431d5-9ea4-496f-abd9-fabd8771a4ce)
### 서브넷

기본 4개 서브넷이 생성되어있고 기본 VPC안에 있다.
서브네팅 개념을 통해 VPC IP주소를 4개의 기본 서브넷 IP 주소로 할당한다.

서브넷 마스크가 20이므로 하나의 서브넷에 4096(2^12)개 IP주소를 포함한다.

VPC가 /16이고,
서브넷이 /20 일 때,

VPC에 16(2^4)가지의 서브넷으로 나눌 수 있다.

![image 1](https://github.com/user-attachments/assets/307f193a-7b19-4eef-b122-d8c153a2f815)

**이미 할당된 서브넷:**

- 172.31.0.0/20
- 172.31.16.0/20
- 172.31.32.0/20
- 172.31.48.0/20

**여기서 추가로 서브넷을 할당하려면**

- 172.31.64.0/20
- 172.31.80.0/20
- …

위와 같이 추가로 서브넷을 할당할 수 있다.

![vpc_subnet_%EC%84%A4%EB%AA%85](https://github.com/user-attachments/assets/1947063e-4ceb-4831-8046-8e75bbdbff14)

### 서브넷 그룹

서로 다른 가용 영역의 서브넷 2개를 묶은게 서브넷 그룹이다.
즉 두개 이상의 서브넷으로 구성된게 서브넷 그룹

RDS는 서브넷 그룹에 속하게 된다.

ex)

서브넷 그룹(subnet1-group)은 subnetA와 subnetB를 가진다고 할 때,

RDS가 subnet1-group을 선택하면

RDS는 subnetA와 subnetB에 속하게 되는 것이다.

EC2는 단일 서브넷으로 구성하는 반면 RDS는 서브넷 그룹을 택하는 이유는 가용성을 높이고 장애 복구를 지원하기 위함이다. (DB는 중요하니까!)

---

## 리전과 가용 영역

AWS 서비스를 위한 클라우드 자원은 지리적인 위치에 분산되어 글로벌 클라우드 인프라를 구성한다.

여기서 리전(예: 서울리전 ap-northeast-2)이라는 지리적 위치로 분류 하고 해당 리전 마다 가용 영역(예: ap-northeast-2a / 2b / 2c / 2d)으로 분산하여 자원들이 위치한다.

**정리**
 AWS 자원의 **물리적**인 위치를 분류한다.  리전 > 가용 영역 > 데이터센터(큰 범주 순서)로 분류

- VPC는 가상의 클라우드 네트워크로 특정 리전에 종속되어 구성된다.
ex 어떤 VPC가 서울에도 있으면서 영국에도 있을 수 X
- VPC의 네트워크 대역을 부분적으로 나눠서 **논리적**으로 분류한 것을 서브넷
- 서브넷은 하나의 가용 영역에 종속되어 위치
- 따라서, 하나의 VPC 안에 있는 서브넷들이 있을 때, 각 서브넷들의 가용 영역이 다르다고 해서 네트워크상 문제는 없다.